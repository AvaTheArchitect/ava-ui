// Quick MusicTheoryEngine functionality test - TypeScript version
import { MusicTheoryEngine } from './brain/modules/composition/index';

console.log('ğŸµ Testing MusicTheoryEngine functionality...');

try {
    const engine = new MusicTheoryEngine();

    // Test 1: Harmony Analysis
    console.log('\nğŸ” Testing Harmony Analysis...');
    const analysis = engine.analyzeHarmony(['C', 'Am', 'F', 'G'], 'C');
    console.log('âœ… Key detected:', `${analysis.key.tonic} ${analysis.key.mode}`);
    console.log('âœ… Roman numerals:', analysis.numerals);
    console.log('âœ… Functions:', analysis.functions);
    console.log('âœ… Confidence:', (analysis.confidence * 100).toFixed(1) + '%');

    // Test 2: Chord Suggestions
    console.log('\nğŸ¯ Testing Chord Suggestions...');
    const rockSuggestions = engine.suggestNextChord(['C', 'Am', 'F'], 'rock');
    const countrySuggestions = engine.suggestNextChord(['C', 'Am', 'F'], 'country');
    console.log('âœ… Rock suggestions:', rockSuggestions);
    console.log('âœ… Country suggestions:', countrySuggestions);

    // Test 3: Melody Generation
    console.log('\nğŸ¼ Testing Melody Generation...');
    const melody = engine.generateMelody('C', 8, 'major', 'rock');
    console.log('âœ… Generated melody:', melody);

    // Test 4: Scale Information
    console.log('\nğŸšï¸ Testing Scale Information...');
    const cMajorScale = engine.getScale('C', 'major');
    const eMinorScale = engine.getScale('E', 'minor');
    console.log('âœ… C Major scale:', cMajorScale.notes);
    console.log('âœ… E Minor scale:', eMinorScale.notes);

    // Test 5: Genre Characteristics
    console.log('\nğŸ­ Testing Genre Characteristics...');
    const metalChar = engine.getGenreCharacteristics('metal');
    console.log('âœ… Metal complexity:', metalChar.complexity);
    console.log('âœ… Metal preferred keys:', metalChar.preferredKeys);

    console.log('\nğŸ‰ ALL TESTS PASSED! MusicTheoryEngine is fully operational! ğŸ‰');

} catch (error) {
    console.error('âŒ Test failed:', error);
}