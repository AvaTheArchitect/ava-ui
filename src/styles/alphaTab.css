/**
 * alphaTab Required Styles - Maestro.ai Purple Cursor
 * FIXED: Corrected !important syntax for box-shadow
 * Place in: src/styles/alphaTab.css
 */

/* Main alphaTab container */
.at-surface {
    width: 100%;
    overflow: auto;
    position: relative;
}

/* SVG wrapper */
.at-viewport {
    width: 100%;
    height: auto;
    overflow: visible;
}

/* HIDE the bar cursor - we only want the beat line */
.at-cursor-bar {
    display: none !important;
}

/* Beat line cursor - FALLBACK VERSION (lower specificity) */
.at-cursor-beat {
    /* Purple color for the center line */
    background: #a855f7 !important;
    
    box-shadow: 
        15px 0 0 #a855f7,
        -15px 0 0 #a855f7,
        0 0 15px 3px rgba(168, 85, 247, 0.7)
    !important;
    
    opacity: 1 !important;
    visibility: visible !important;
    
    /* REMOVED: clip-path - let cursor span full height */
}

/* Beat line cursor - HIGH SPECIFICITY VERSION */
#maestro-player .at-cursor-beat {
    /* Purple color for the center line */
    background: #a855f7 !important; /* Maestro.ai Purple (violet-500) */
    
    /* THICK LINE with GLOW: 15px on each side = ~32px total */
    box-shadow: 
        15px 0 0 #a855f7,                      /* Solid right shadow */
        -15px 0 0 #a855f7,                     /* Solid left shadow */
        0 0 15px 3px rgba(168, 85, 247, 0.7)  /* Stronger glow effect */
    !important;
    
    /* Make fully visible */
    opacity: 1 !important;
    visibility: visible !important;
    
    /* REMOVED: clip-path - let cursor span full height like AlphaTab default */
}

/* Selection highlighting - purple theme */
.at-selection div {
    position: absolute;
    background: rgba(168, 85, 247, 0.25);
    pointer-events: none;
    z-index: 998;
    border: 2px solid rgba(168, 85, 247, 0.6);
    border-radius: 4px;
}

/* Highlight effect during playback - purple theme */
.at-highlight * {
    fill: #a855f7 !important;
    stroke: #a855f7 !important;
}

/* Music font - alphaTab uses Bravura font */
@font-face {
    font-family: 'alphaTab';
    src: url('https://cdn.jsdelivr.net/npm/@coderline/alphatab@latest/dist/font/Bravura.woff2') format('woff2'),
         url('https://cdn.jsdelivr.net/npm/@coderline/alphatab@latest/dist/font/Bravura.woff') format('woff'),
         url('https://cdn.jsdelivr.net/npm/@coderline/alphatab@latest/dist/font/Bravura.otf') format('opentype');
}

.at {
    font-family: 'alphaTab', sans-serif;
    speak: none;
    font-style: normal;
    font-weight: normal;
    font-variant: normal;
    text-transform: none;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Tab notation elements */
.at-tab-line {
    stroke: #666;
    stroke-width: 1;
}

.at-tab-number {
    fill: #000;
    font-family: Arial, sans-serif;
    font-weight: bold;
}

/* Standard notation elements */
.at-score-staff-line {
    stroke: #000;
    stroke-width: 1;
}

/* Bar lines */
.at-bar-line {
    stroke: #000;
    stroke-width: 1.5;
}

/* Loading overlay */
.at-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.9);
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
}

/* Scrollbar styling */
.at-surface::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

.at-surface::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.at-surface::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 6px;
}

.at-surface::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Print styles */
@media print {
    .at-cursor-bar,
    .at-cursor-beat,
    .at-selection {
        display: none !important;
    }
    
    .at-surface {
        overflow: visible !important;
    }
}
/* MOBILE-SPECIFIC CURSOR FIXES */
@media (max-width: 768px), (hover: none) and (pointer: coarse) {
  .at-cursor-beat {
    box-shadow: none !important;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: transform;
    background: #a855f7 !important;
    width: 3px !important;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    opacity: 1 !important;
    visibility: visible !important;
    z-index: 1000 !important;
    pointer-events: none !important;
  }
  
  .at-cursor-beat::after {
    content: '';
    position: absolute;
    top: 0;
    left: -7px;
    right: -7px;
    bottom: 0;
    background: rgba(168, 85, 247, 0.3);
    filter: blur(8px);
    pointer-events: none;
    z-index: -1;
  }
}
/* ============================================
   CUSTOMIZATION GUIDE
   ============================================
   
   LIMITATION: AlphaTab uses inline styles (width + scale transform) that 
   CANNOT be overridden with CSS alone. To control cursor thickness, we need
   JavaScript to manipulate the DOM after AlphaTab creates the cursor.
   
   Current Settings (Color Only):
   - Color: Purple (#a855f7) ✅ WORKS
   - Glow effect: 15px blur ✅ WORKS
   - Thickness: Limited by AlphaTab's scale transform ❌ Needs JavaScript
   - Height: Full staff height (clip-path removed)
   
   What Works with CSS:
   - Color changes (background)
   - Glow effects (box-shadow blur)
   - Visibility (opacity, display)
   - Small horizontal shadows
   
   What Requires JavaScript:
   - True thickness control (needs to override inline width + scale)
   - Custom cursor shapes
   - Height control beyond AlphaTab's default
   
   For Songsterr-Style Cursor:
   We need to create a custom SVG overlay cursor that follows playback position,
   similar to how Songsterr implements theirs. This will be a future enhancement.
   
   To change COLOR (this DOES work):
   - Deeper purple: #7c3aed (purple-600)
   - Lighter lavender: #c084fc (purple-400)
   - Brighter purple: #9333ea (purple-700)
   - Replace #a855f7 in both background and box-shadow rgba values
   
   NEXT STEPS:
   1. Accept current cursor appearance with purple color ✅
   2. Plan custom SVG cursor overlay (like Songsterr) for future
   3. Use JavaScript to manipulate AlphaTab cursor if needed
   ============================================ */